# –ü—Ä–µ–¥—Å–∫–∞–∑–∞—Ç–µ–ª—å —Ü–µ–Ω –Ω–∞ –∞–≤—Ç–æ–º–æ–±–∏–ª–∏
Desktop/Web –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏—è —Ü–µ–Ω –∞–≤—Ç–æ–º–æ–±–∏–ª–µ–π —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –Ω–µ–π—Ä–æ–Ω–Ω—ã—Ö —Å–µ—Ç–µ–π.
## –û–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞
–ü—Ä–æ–µ–∫—Ç –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç —Å–æ–±–æ–π –ø–æ–ª–Ω–æ—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–ª—è –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏—è —Ä—ã–Ω–æ—á–Ω—ã—Ö —Ü–µ–Ω –∞–≤—Ç–æ–º–æ–±–∏–ª–µ–π –ø–æ –∏—Ö —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∞–º. –°–∏—Å—Ç–µ–º–∞ —Å–æ—Å—Ç–æ–∏—Ç –∏–∑ —Ç—Ä–µ—Ö –æ—Å–Ω–æ–≤–Ω—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤:

1. –ù–µ–π—Ä–æ–Ω–Ω–∞—è —Å–µ—Ç—å –Ω–∞ TensorFlow/Keras –¥–ª—è —Ä–µ–≥—Ä–µ—Å—Å–∏–∏ —Ü–µ–Ω
2. FastAPI —Å–µ—Ä–≤–µ—Ä –¥–ª—è –æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏—è –º–æ–¥–µ–ª–∏
3. Gradio –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å —Å –∫—Ä–µ–¥–∏—Ç–Ω—ã–º –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä–æ–º –∏ –∏—Å—Ç–æ—Ä–∏–µ–π –∑–∞–ø—Ä–æ—Å–æ–≤

## –ò—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏
1. **Python 3.8+** - —è–∑—ã–∫ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
2. **TensorFlow 2.13.0** - —Ñ—Ä–µ–π–º–≤–æ—Ä–∫ –¥–ª—è –º–∞—à–∏–Ω–Ω–æ–≥–æ –æ–±—É—á–µ–Ω–∏—è
3. **Keras** - –≤—ã—Å–æ–∫–æ—É—Ä–æ–≤–Ω–µ–≤—ã–π API –¥–ª—è –Ω–µ–π—Ä–æ–Ω–Ω—ã—Ö —Å–µ—Ç–µ–π
4. **FastAPI 0.104.1** - –≤–µ–±-—Ñ—Ä–µ–π–º–≤–æ—Ä–∫ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è API
5. **Gradio 4.13.0** - –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤
6. **Scikit-learn 1.3.0** - –ø—Ä–µ–ø—Ä–æ—Ü–µ—Å—Å–∏–Ω–≥ –¥–∞–Ω–Ω—ã—Ö –∏ –æ—Ü–µ–Ω–∫–∞ –º–æ–¥–µ–ª–µ–π
7. **Pandas 2.1.3** - –æ–±—Ä–∞–±–æ—Ç–∫–∞ –¥–∞–Ω–Ω—ã—Ö
8. **NumPy 1.24.3** - –º–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –≤—ã—á–∏—Å–ª–µ–Ω–∏—è
9. **SQLite3** - –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö

## API
FastAPI –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç REST API —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã:

* **POST /predict** - –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏–µ —Ü–µ–Ω—ã –∞–≤—Ç–æ–º–æ–±–∏–ª—è
* **POST /calculate_credit** - —Ä–∞—Å—á–µ—Ç –∫—Ä–µ–¥–∏—Ç–Ω—ã—Ö –ø–ª–∞—Ç–µ–∂–µ–π
* **GET /history** - –∏—Å—Ç–æ—Ä–∏—è –∑–∞–ø—Ä–æ—Å–æ–≤
* **GET /brands** - —Å–ø–∏—Å–æ–∫ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –º–∞—Ä–æ–∫
* **GET /models/{brand}** - –º–æ–¥–µ–ª–∏ –ø–æ –º–∞—Ä–∫–µ
* **GET /unique_values** - —Å–ø—Ä–∞–≤–æ—á–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ

## –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å
Gradio –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Å —É–¥–æ–±–Ω—ã–º –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–º:

* **–í–∫–ª–∞–¥–∫–∞ 1:** –ü—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏–µ —Ü–µ–Ω—ã –ø–æ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∞–º
* **–í–∫–ª–∞–¥–∫–∞ 2:** –ö—Ä–µ–¥–∏—Ç–Ω—ã–π –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä
* **–í–∫–ª–∞–¥–∫–∞ 3:** –ò—Å—Ç–æ—Ä–∏—è –∑–∞–ø—Ä–æ—Å–æ–≤
* **–ë—ã—Å—Ç—Ä—ã–µ –ø—Ä–∏–º–µ—Ä—ã –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è***

## –î–∞–Ω–Ω—ã–µ –∏ –º–æ–¥–µ–ª—å
* **–î—Ç–∞–°–µ—Ç:** 1.3 –º–∏–ª–ª–∏–æ–Ω–∞ –∞–≤—Ç–æ–º–æ–±–∏–ª–µ–π
* **–ü—Ä–∏–∑–Ω–∞–∫–∏:** –ú–∞—Ä–∫–∞, –º–æ–¥–µ–ª—å, –≥–æ–¥ –≤—ã–ø—É—Å–∫–∞, –º–æ—â–Ω–æ—Å—Ç—å, —Ç–∏–ø –∫—É–∑–æ–≤–∞, —Ü–≤–µ—Ç, —Ç–∏–ø —Ç–æ–ø–ª–∏–≤–∞
* **–¶–µ–ª–µ–≤–∞—è –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è:** –¶–µ–Ω–∞ –∞–≤—Ç–æ–º–æ–±–∏–ª—è –≤ —Ä—É–±–ª—è—Ö

## –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∑–∞–ø—É—Å–∫
### 1. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
```pip install -r requirements.txt```

### 2. –û–±—É—á–µ–Ω–∏–µ –º–æ–¥–µ–ª–∏ (–µ—Å–ª–∏ –ø–æ–Ω–∞–¥–æ–±–∏—Ç—Å—è)
```python tools/model_training.py```

### 3. –ó–∞–ø—É—Å–∫ —Å–∏—Å—Ç–µ–º—ã
1. **API —Å–µ—Ä–≤–µ—Ä:**
  ```cd api```
```python main.py```

2. **–í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å:**
   ```cd app```
```python main.py```

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞
```
car_price_/
‚îú‚îÄ‚îÄ api/
‚îÇ   ‚îú‚îÄ‚îÄ main.py              #FastAPI —Å–µ—Ä–≤–µ—Ä
‚îÇ   ‚îî‚îÄ‚îÄ requirements_api.txt #–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ API
‚îú‚îÄ‚îÄ app/
‚îÇ   ‚îú‚îÄ‚îÄ main.py              #Gradio –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
‚îÇ   ‚îî‚îÄ‚îÄ requirements_app.txt #–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞
‚îú‚îÄ‚îÄ data/
‚îÇ   ‚îú‚îÄ‚îÄ car_index.json       #–∏–Ω–¥–µ–∫—Å –¥–ª—è –ø–æ—Ö–æ–∂–∏—Ö –∞–≤—Ç–æ
‚îÇ   ‚îî‚îÄ‚îÄ unique_values.json   #—Å–ø—Ä–∞–≤–æ—á–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
‚îú‚îÄ‚îÄ models/
‚îÇ   ‚îú‚îÄ‚îÄ car_price_model.keras  #–æ–±—É—á–µ–Ω–Ω–∞—è –º–æ–¥–µ–ª—å
‚îÇ   ‚îú‚îÄ‚îÄ scaler.pkl           #–º–∞—Å—à—Ç–∞–±–∞—Ç–æ—Ä —á–∏—Å–ª–æ–≤—ã—Ö –ø—Ä–∏–∑–Ω–∞–∫–æ–≤
‚îÇ   ‚îú‚îÄ‚îÄ encoders.pkl         #–∫–æ–¥–∏—Ä–æ–≤—â–∏–∫–∏ –∫–∞—Ç–µ–≥–æ—Ä–∏–∞–ª—å–Ω—ã—Ö –ø—Ä–∏–∑–Ω–∞–∫–æ–≤
‚îÇ   ‚îî‚îÄ‚îÄ feature_info.pkl     #–∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø—Ä–∏–∑–Ω–∞–∫–∞—Ö
‚îú‚îÄ‚îÄ utils/
‚îÇ   ‚îú‚îÄ‚îÄ data_preprocessing.py  #–ø—Ä–µ–ø—Ä–æ—Ü–µ—Å—Å–∏–Ω–≥ –¥–∞–Ω–Ω—ã—Ö
‚îÇ   ‚îî‚îÄ‚îÄ model_training.py    #–æ–±—É—á–µ–Ω–∏–µ –º–æ–¥–µ–ª–∏
‚îÇ
‚îú‚îÄ‚îÄ history.db               #–±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö SQLite
‚îú‚îÄ‚îÄ requirements.txt         #–æ—Å–Ω–æ–≤–Ω—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
‚îî‚îÄ‚îÄ README.md               #–¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
```

## –ó–∞–ø—É—Å–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
–í—ã–ø–æ–ª–Ω–∏—Ç–µ –∫–æ–º–∞–Ω–¥—É:
```python all_in_one.py```

## –†–∞–±–æ—Ç–∞ —Å –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–º
1. **–ü—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏–µ —Ü–µ–Ω—ã:**
* –í—ã–±–µ—Ä–∏—Ç–µ –º–∞—Ä–∫—É –∞–≤—Ç–æ–º–æ–±–∏–ª—è –∏–∑ —Å–ø–∏—Å–∫–∞
* –í—ã–±–µ—Ä–∏—Ç–µ –º–æ–¥–µ–ª—å
* –£–∫–∞–∂–∏—Ç–µ –≥–æ–¥ –≤—ã–ø—É—Å–∫–∞ (1995-2024)
* –£–∫–∞–∂–∏—Ç–µ –º–æ—â–Ω–æ—Å—Ç—å (60-600 –ª.—Å.)
* –í—ã–±–µ—Ä–∏—Ç–µ —Ç–∏–ø –∫—É–∑–æ–≤–∞, —Ü–≤–µ—Ç –∏ —Ç–∏–ø —Ç–æ–ø–ª–∏–≤–∞
* –ù–∞–∂–º–∏—Ç–µ "–ü—Ä–µ–¥—Å–∫–∞–∑–∞—Ç—å —Ü–µ–Ω—É"

2. **–ö—Ä–µ–¥–∏—Ç–Ω—ã–π –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä:**
* –í–≤–µ–¥–∏—Ç–µ —Å—Ç–æ–∏–º–æ—Å—Ç—å –∞–≤—Ç–æ–º–æ–±–∏–ª—è
* –£–∫–∞–∂–∏—Ç–µ –ø–µ—Ä–≤–æ–Ω–∞—á–∞–ª—å–Ω—ã–π –≤–∑–Ω–æ—Å
* –í—ã–±–µ—Ä–∏—Ç–µ —Å—Ä–æ–∫ –∫—Ä–µ–¥–∏—Ç–∞ (12-84 –º–µ—Å—è—Ü–∞
* –£–∫–∞–∂–∏—Ç–µ –ø—Ä–æ—Ü–µ–Ω—Ç–Ω—É—é —Å—Ç–∞–≤–∫—É (5-20%)
* –ù–∞–∂–º–∏—Ç–µ "üìä –†–∞—Å—Å—á–∏—Ç–∞—Ç—å –∫—Ä–µ–¥–∏—Ç"

3. **–ò—Å—Ç–æ—Ä–∏—è –∑–∞–ø—Ä–æ—Å–æ–≤:**
* –ü—Ä–æ—Å–º–∞—Ç—Ä–∏–≤–∞–π—Ç–µ –ø—Ä–µ–¥—ã–¥—É—â–∏–µ –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏—è
* –û–±–Ω–æ–≤–ª—è–π—Ç–µ –∏—Å—Ç–æ—Ä–∏—é –∫–Ω–æ–ø–∫–æ–π "–û–±–Ω–æ–≤–∏—Ç—å"
* –û—á–∏—â–∞–π—Ç–µ –∏—Å—Ç–æ—Ä–∏—é –∫–Ω–æ–ø–∫–æ–π "–û—á–∏—Å—Ç–∏—Ç—å"

## API –∑–∞–ø—Ä–æ—Å—ã
**–ü—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏–µ —Ü–µ–Ω—ã –∞–≤—Ç–æ–º–æ–±–∏–ª—è**
```POST /predict```
```
{
  "brand": "Toyota",
  "name": "Camry",
  "bodyType": "—Å–µ–¥–∞–Ω",
  "color": "–±–µ–ª—ã–π",
  "fuelType": "–±–µ–Ω–∑–∏–Ω",
  "year": 2020,
  "power": 249
}
```

–û—Ç–≤–µ—Ç:
```
{
  "predicted_price": 2500000.0,
  "currency": "RUB",
  "log_price": 14.731
}
```

**–†–∞—Å—á–µ—Ç –∫—Ä–µ–¥–∏—Ç–∞**
```POST /calculate_credit```

```
{
  "car_price": 1000000,
  "down_payment": 200000,
  "loan_term_months": 60,
  "interest_rate": 8.5
}
```

–û—Ç–≤–µ—Ç:

```
{
  "monthly_payment": 16364.52,
  "total_interest": 181871.2,
  "total_payment": 1181871.2,
  "overpayment_percent": 22.73
}```
```

**–ü–æ–ª—É—á–µ–Ω–∏–µ –∏—Å—Ç–æ—Ä–∏–∏**
```GET /history?limit=10&offset=0```

–û—Ç–≤–µ—Ç:

```
[
  {
    "id": "abc123",
    "timestamp": "2024-01-15T10:30:00",
    "car_data": {
      "brand": "Toyota",
      "name": "Camry",
      "year": 2020,
      "power": 249,
      "bodyType": "—Å–µ–¥–∞–Ω",
      "color": "–±–µ–ª—ã–π",
      "fuelType": "–±–µ–Ω–∑–∏–Ω"
    },
    "predicted_price": 2500000.0
  }
]
```

##–ú–µ—Ç—Ä–∏–∫–∏ –∏ –∫–∞—á–µ—Å—Ç–≤–æ

1. –û–±—ä–µ–º –¥–∞–Ω–Ω—ã—Ö: 1.3 –º–∏–ª–ª–∏–æ–Ω–∞ –∑–∞–ø–∏—Å–µ–π
2. –¢–æ—á–Ω–æ—Å—Ç—å –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏—è: 85% (MAE ~15%)
3. –í—Ä–µ–º—è –æ—Ç–∫–ª–∏–∫–∞: < 500 –º—Å –Ω–∞ –∑–∞–ø—Ä–æ—Å
4. –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ –º–∞—Ä–∫–∏: 100+ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª–µ–π
5. –î–∏–∞–ø–∞–∑–æ–Ω —Ü–µ–Ω: 10,000 - 10,000,000 —Ä—É–±–ª–µ–π
6. –ì–æ–¥—ã –≤—ã–ø—É—Å–∫–∞: 1995-2024
